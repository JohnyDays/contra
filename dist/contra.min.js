!function(){"use strict";function n(n){return n instanceof Array}function t(n){return Array.prototype.slice.call(n)}function e(n,t,e){n&&l(function(){n.apply(e||null,t||[])})}function u(n){function t(){e||(e=!0,n.apply(null,arguments))}var e;return t.discard=function(){e=!0},t}function r(n,t,u){var r=n.shift();return r?(u&&u.discard(),e(t,[r]),!0):void 0}function i(){var n=t(arguments),e=n.shift();return function(u){var r=t(n);r.push(u),e.apply(e,r)}}function o(n,i){function o(){var f=u(i);return u(function(){var u=t(arguments),i=n.shift();if(i){if(r(u,f))return;u.push(o()),e(i,u)}else e(f,arguments)})}o()()}function f(i,o){function f(){return u(function(){var n=s.shift(),u=t(arguments),o=i[n];if(c){if(r(u,a))return;p[c]=u.shift()}c=n,o?e(o,[f()]):e(a,[null,p])})}var c,a=u(o),s=Object.keys(i),p=n(i)?[]:{};f()()}function c(i,o){function f(n){var i=u(function(){var u=t(arguments);r(u,c,i)||(s[n]=u.shift(),++p===l&&e(c,[null,s]))});return i}var c=u(o),a=Object.keys(i),s=n(i)?[]:{},p=0,l=a.length;a.forEach(function(n){e(i[n],[f(n)])})}function a(t,e){return function(u,r,i){var o=Object.keys(u),f=n(u)?[]:{};o.forEach(function(n){f[n]=function(t){r(u[n],t)}}),t(f,e?e(i):i)}}function s(n){function t(n){return function(t){n(t)}}return a(n,t)}function p(n){var u=this,r={};return n.on=function(n,t){r[n]?r[n].push(t):r[n]=[t]},n.emit=function(){var n=t(arguments),i=n.shift(),o=r[i];if("error"===i&&!o)throw 1===n.length?n[0]:n;o&&o.forEach(function(t){e(t,n,u)})},n}var l;l="undefined"!=typeof process&&process.nextTick?"function"==typeof setImmediate?setImmediate:process.nextTick:"function"==typeof setImmediate?function(n){setImmediate(n)}:function(n){setTimeout(n,0)};var h=function(n,t){function r(n,t,u){var r=t?"unshift":"push",o=n instanceof Array?n:[n];o.forEach(function(n){c[r]({t:n,done:u})}),e(i)}function i(){if(!(f||a>=s)&&c.length){a++;var t=c.pop();n(t.t,u(o.bind(null,t)))}}function o(n,t){a--,e(n.done,[t]),e(i)}var f,c=[],a=0,s=t||1;return{push:function(n,t){r(n,!1,t)},unshift:function(n,t){r(n,!0,t)},pause:function(){f=!0},resume:function(){f=!1,i()},get length(){return c.length}}},m={apply:i,concurrent:c,series:f,waterfall:o,each:s(c),map:a(c),queue:h,emitter:p};m.each.series=s(f),m.map.series=a(f),"undefined"!=typeof module&&module.exports?module.exports=m:window.contra=m}();