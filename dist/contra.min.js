!function(n){"use strict";function t(t){return"[object Array]"===n.prototype.toString.call(t)}function e(n){return Array.prototype.slice.call(n)}function r(n,t,e){n&&h(function(){n.apply(e||null,t||[])})}function u(n){function t(){e||(e=!0,n.apply(null,arguments))}var e;return t.discard=function(){e=!0},t}function i(n,t,e){var u=n.shift();return u?(e&&e.discard(),r(t,[u]),!0):void 0}function o(){var n=e(arguments),t=n.shift();return function(){var r=e(n),u=e(arguments);t.apply(t,r.concat(u))}}function f(n,t){function o(){var f=u(t);return u(function(){var t=e(arguments),u=n.shift();if(u){if(i(t,f))return;t.push(o()),r(u,t)}else r(f,arguments)})}o()()}function c(o,f){function c(){return u(function(){var n=l.shift(),t=e(arguments),u=o[n];if(a){if(i(t,s))return;p[a]=t.shift()}a=n,u?r(u,[c()]):r(s,[null,p])})}var a,s=u(f),l=n.keys(o),p=t(o)?[]:{};c()()}function a(o,f){function c(n){var t=u(function(){var u=e(arguments);i(u,a,t)||(l[n]=u.shift(),++p===h&&r(a,[null,l]))});return t}var a=u(f),s=n.keys(o),l=t(o)?[]:{},p=0,h=s.length;s.forEach(function(n){r(o[n],[c(n)])})}function s(e,r){return function(u,i,o){var f=n.keys(u),c=t(u)?[]:{};f.forEach(function(n){c[n]=function(t){i(u[n],t)}}),e(c,r?r(o):o)}}function l(n){function t(n){return function(t){n(t)}}return s(n,t)}function p(n){var t=this,u={};return n.on=function(n,t){u[n]?u[n].push(t):u[n]=[t]},n.emit=function(){var n=e(arguments),i=n.shift(),o=u[i];if("error"===i&&!o)throw 1===n.length?n[0]:n;o&&o.forEach(function(e){r(e,n,t)})},n}var h,m="function"==typeof setImmediate;h="undefined"!=typeof process&&process.nextTick?m?setImmediate:process.nextTick:m?function(n){setImmediate(n)}:function(n){setTimeout(n,0)};var d=function(e,i){function o(n,e,u){var i=e?"unshift":"push",o=t(n)?n:[n];o.forEach(function(n){s[i]({t:n,done:u})}),r(f)}function f(){if(!(a||l>=p)&&s.length){l++;var n=s.pop();e(n.t,u(c.bind(null,n)))}}function c(n,t){l--,r(n.done,[t]),r(f)}var a,s=[],l=0,p=i||1,h={push:function(n,t){o(n,!1,t)},unshift:function(n,t){o(n,!0,t)},pause:function(){a=!0},resume:function(){a=!1,f()}};return n.defineProperty(h,"length",{get:function(){return s.length}}),h},v={apply:o,concurrent:a,series:c,waterfall:f,each:l(a),map:s(a),queue:d,emitter:p};v.each.series=l(c),v.map.series=s(c),"undefined"!=typeof module&&module.exports?module.exports=v:window.contra=v}(Object);